Handle Errors

;[skip] uncomment to skip this test

[name]
Handler

[input]

(call/cc
 (lambda (k)
   (with-exception-handler
    (lambda (err)
      (trace "handler")
      (k (list
          (error-object? err)
          (error-object-message err)
          (error-object-irritants err))))
    (lambda ()
      (trace "thunk")
      (error "Message %{0}" :baba)))))

[result]
(#t "Message %{0}" (:baba))
